<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆ†ç±»ç»“æœ</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <h1>ğŸ“Š åˆ†ç±»ç»“æœ</h1>
        
        <div class="result-section">
            <!-- å›¾ç‰‡é¢„è§ˆ -->
            <div class="image-container">
                <img src="{{ url_for('static', filename='uploads/' + result.image_path) }}" alt="ä¸Šä¼ çš„å›¾ç‰‡">
            </div>
            
            <!-- åˆ†ç±»ç»“æœ -->
            <div class="result-card">
                <h2>ğŸ­ è¯†åˆ«ç»“æœ</h2>
                <div class="result-info">
                    <div class="info-item">
                        <h3>è¯†åˆ«è§’è‰²</h3>
                        <p style="font-size: 1.2em; font-weight: bold; color: #333;">{{ result.role }}</p>
                    </div>
                    <div class="info-item">
                        <h3>ç½®ä¿¡åº¦</h3>
                        <p>
                            {{ result.similarity|format_similarity }}
                            {% if result.similarity >= 80 %}
                                <span class="accuracy-badge high-accuracy">é«˜</span>
                            {% elif result.similarity >= 50 %}
                                <span class="accuracy-badge medium-accuracy">ä¸­</span>
                            {% else %}
                                <span class="accuracy-badge low-accuracy">ä½</span>
                            {% endif %}
                        </p>
                        <div class="similarity-bar">
                            <div class="similarity-fill" style="width: {{ result.similarity }}%">
                                {{ result.similarity|int }}%
                            </div>
                        </div>
                    </div>
                    <div class="info-item">
                        <h3>å›¾ç‰‡ä¿¡æ¯</h3>
                        <p>æ–‡ä»¶å: {{ result.filename }}</p>
                        <p>å°ºå¯¸: {{ result.image_width }} Ã— {{ result.image_height }}</p>
                    </div>
                </div>
            </div>
            
            <!-- æ£€æµ‹æ¡†ä¿¡æ¯ -->
            {% if result.boxes %}
            <div class="result-card" style="border-left-color: #17a2b8;">
                <h2>ğŸ” æ£€æµ‹ä¿¡æ¯</h2>
                <p>æ£€æµ‹åˆ° <strong>{{ result.boxes|length }}</strong> ä¸ªè§’è‰²</p>
            </div>
            {% endif %}
        </div>
        
        <!-- è¿”å›æŒ‰é’® -->
        <div class="back-button">
            <a href="/">ğŸ”„ ä¸Šä¼ å¦ä¸€å¼ å›¾ç‰‡</a>
        </div>
        
        <!-- é¡µè„š -->
        <div class="footer">
            <p>Â© 2026 è§’è‰²åˆ†ç±»ç³»ç»Ÿ</p>
        </div>
    </div>
</body>
</html>
